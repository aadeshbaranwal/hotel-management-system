{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\project\\\\hotel-management-system\\\\client\\\\src\\\\components\\\\Profile.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { updateProfile } from \"../api/api\";\nimport MyBookings from \"./MyBookings\";\nexport default function Profile() {\n  const [state, updateState] = useState({\n    edit: false,\n    name: \"\",\n    phoneNumber: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\"\n  });\n\n  const onEdit = () => {\n    if (!state.edit) {\n      updateState({ ...state,\n        edit: true\n      });\n    } else {\n      updateState({ ...state,\n        edit: false\n      });\n    }\n  };\n\n  const changeHandler = e => {\n    console.log(\"profile changeHandler:\", e.target);\n    const {\n      name\n    } = e.target;\n    updateState({ ...state,\n      [name]: e.target.value\n    });\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"signupData\")) {\n      let name = JSON.parse(localStorage.getItem(\"signupData\")).name;\n      let phoneNumber = JSON.parse(localStorage.getItem(\"signupData\")).phoneNumber;\n      let password = JSON.parse(localStorage.getItem(\"signupData\")).password;\n      let email = JSON.parse(localStorage.getItem(\"signupData\")).email;\n      updateState({\n        name: name,\n        phoneNumber: phoneNumber,\n        password: password,\n        email: email,\n        confirmPassword: password\n      });\n    } else {\n      alert(\"User could not be created\");\n    }\n  }, []);\n\n  const handleSubmit = () => {\n    if (validityCheck()) {\n      const profileData = {\n        password: state.password,\n        name: state.name,\n        phoneNumber: state.phoneNumber,\n        username: JSON.parse(localStorage.getItem(\"signupData\")).username,\n        email: state.email\n      };\n\n      try {\n        console.log(\"Profile Data\", JSON.stringify(profileData));\n        let username = JSON.parse(localStorage.getItem(\"signupData\")).username;\n        updateProfile(profileData, username); // window.location.reload();\n      } catch (e) {\n        console.log(e.message);\n      }\n    } else {\n      alert(\"Enter valid Details\");\n    }\n  };\n\n  function allLetter(word) {\n    //   var letters = /^[A-Za-z]+$/;\n    if (/^[a-zA-Z\\s]*$/.test(word)) return true;\n    alert(\"enter name correctly\");\n    return false;\n  }\n\n  const validityCheck = () => {\n    console.log(\"state:\", state);\n    return state.name.length > 2 && allLetter(state.name) && state.phoneNumber.length === 10 && state.password && state.password.length > 6 && state.confirmPassword && state.password === state.confirmPassword && checkPassword(state.password);\n  };\n\n  const checkPassword = str => {\n    var re = /^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\n    return true;\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"container shadow-sm p-3 mb-5  bg-white mt-5 fullH rounded border\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Profile\"), React.createElement(\"h5\", {\n    className: \"mb-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"Basic info, for a faster booking experience\"), React.createElement(\"div\", {\n    className: \"mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"font-weight-bold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Edit Profile\", \" \", React.createElement(\"span\", {\n    onClick: onEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-outline-dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"\\u270E\")))), React.createElement(\"div\", {\n    className: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, !state.edit ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"d-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"h5\", {\n    className: \"d-inline pl-5 ml-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, state.name), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"d-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"Phone Number \"), React.createElement(\"h5\", {\n    className: \"d-inline pl-5 ml-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, state.phoneNumber), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"d-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"Email id\"), React.createElement(\"h5\", {\n    className: \"d-inline pl-5 ml-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, state.email), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"d-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"h5\", {\n    className: \"d-inline pl-5 ml-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"******\"), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }))) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"d-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"input\", {\n    name: \"name\",\n    className: \"d-inline pl-5 ml-5\",\n    placeholder: JSON.parse(localStorage.getItem(\"signupData\")).name,\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"d-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, \"Phone Number\"), React.createElement(\"input\", {\n    name: \"phoneNumber\",\n    className: \"d-inline pl-5 ml-5\",\n    type: \"number\",\n    placeholder: JSON.parse(localStorage.getItem(\"signupData\")).phoneNumber,\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"d-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, \"Email id\"), React.createElement(\"h5\", {\n    className: \"d-inline pl-5 ml-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, state.email), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"d-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    name: \"password\",\n    className: \"d-inline pl-5 ml-5\",\n    type: \"password\" // value={state.password}\n    ,\n    placeholder: \"Password\",\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"d-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, \"Confirm Password\"), React.createElement(\"input\", {\n    name: \"confirmPassword\",\n    className: \"d-inline pl-5 ml-5\",\n    placeholder: \"Confirm Password\",\n    type: \"password\",\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    type: \"button\",\n    onClick: handleSubmit,\n    className: \"btn p-2 btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, \"Update\")))), React.createElement(MyBookings, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["C:/Users/pc/Desktop/project/hotel-management-system/client/src/components/Profile.js"],"names":["React","useState","useEffect","updateProfile","MyBookings","Profile","state","updateState","edit","name","phoneNumber","email","password","confirmPassword","onEdit","changeHandler","e","console","log","target","value","localStorage","getItem","JSON","parse","alert","handleSubmit","validityCheck","profileData","username","stringify","message","allLetter","word","test","length","checkPassword","str","re"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,aAAT,QAA8B,YAA9B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,eAAe,SAASC,OAAT,GAAmB;AAE9B,QAAM,CAACC,KAAD,EAAQC,WAAR,IAAuBN,QAAQ,CAAC;AAClCO,IAAAA,IAAI,EAAE,KAD4B;AAElCC,IAAAA,IAAI,EAAE,EAF4B;AAGlCC,IAAAA,WAAW,EAAC,EAHsB;AAIlCC,IAAAA,KAAK,EAAE,EAJ2B;AAKlCC,IAAAA,QAAQ,EAAE,EALwB;AAMlCC,IAAAA,eAAe,EAAE;AANiB,GAAD,CAArC;;AASA,QAAMC,MAAM,GAAG,MAAM;AACjB,QAAI,CAACR,KAAK,CAACE,IAAX,EAAiB;AACbD,MAAAA,WAAW,CAAC,EACR,GAAGD,KADK;AAERE,QAAAA,IAAI,EAAE;AAFE,OAAD,CAAX;AAIH,KALD,MAKO;AACHD,MAAAA,WAAW,CAAC,EACR,GAAGD,KADK;AAERE,QAAAA,IAAI,EAAE;AAFE,OAAD,CAAX;AAIH;AACJ,GAZD;;AAcA,QAAMO,aAAa,GAAGC,CAAC,IAAI;AACvBC,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCF,CAAC,CAACG,MAAxC;AACA,UAAM;AAAEV,MAAAA;AAAF,QAAWO,CAAC,CAACG,MAAnB;AACAZ,IAAAA,WAAW,CAAC,EACR,GAAGD,KADK;AAER,OAACG,IAAD,GAAQO,CAAC,CAACG,MAAF,CAASC;AAFT,KAAD,CAAX;AAIH,GAPD;;AASAlB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAImB,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAJ,EAAwC;AACpC,UAAIb,IAAI,GAAGc,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,EAA+Cb,IAA1D;AACA,UAAIC,WAAW,GAAGa,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,EAA+CZ,WAAjE;AACA,UAAIE,QAAQ,GAAGW,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,EAA+CV,QAA9D;AACA,UAAID,KAAK,GAAGY,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,EAA+CX,KAA3D;AAEAJ,MAAAA,WAAW,CAAC;AACRE,QAAAA,IAAI,EAAEA,IADE;AAERC,QAAAA,WAAW,EAAEA,WAFL;AAGRE,QAAAA,QAAQ,EAAEA,QAHF;AAIRD,QAAAA,KAAK,EAAEA,KAJC;AAKRE,QAAAA,eAAe,EAAED;AALT,OAAD,CAAX;AAOH,KAbD,MAaO;AACHa,MAAAA,KAAK,CAAC,2BAAD,CAAL;AACH;AACJ,GAjBQ,EAiBN,EAjBM,CAAT;;AAoBA,QAAMC,YAAY,GAAG,MAAM;AACvB,QAAIC,aAAa,EAAjB,EAAqB;AACjB,YAAMC,WAAW,GAAG;AAChBhB,QAAAA,QAAQ,EAAEN,KAAK,CAACM,QADA;AAEhBH,QAAAA,IAAI,EAAEH,KAAK,CAACG,IAFI;AAGhBC,QAAAA,WAAW,EAAEJ,KAAK,CAACI,WAHH;AAIhBmB,QAAAA,QAAQ,EAAEN,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,EAA+CO,QAJzC;AAKhBlB,QAAAA,KAAK,EAAEL,KAAK,CAACK;AALG,OAApB;;AAQA,UAAI;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BK,IAAI,CAACO,SAAL,CAAeF,WAAf,CAA5B;AAEA,YAAIC,QAAQ,GAAGN,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,EAA+CO,QAA9D;AAEA1B,QAAAA,aAAa,CAACyB,WAAD,EAAcC,QAAd,CAAb,CALA,CAMA;AACH,OAPD,CAOE,OAAOb,CAAP,EAAU;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACe,OAAd;AACH;AACJ,KAnBD,MAmBO;AACHN,MAAAA,KAAK,CAAC,qBAAD,CAAL;AACH;AACJ,GAvBD;;AAyBA,WAASO,SAAT,CAAmBC,IAAnB,EACA;AACA;AACE,QAAI,gBAAgBC,IAAhB,CAAqBD,IAArB,CAAJ,EACE,OAAO,IAAP;AACJR,IAAAA,KAAK,CAAC,sBAAD,CAAL;AACA,WAAO,KAAP;AACC;;AAED,QAAME,aAAa,GAAG,MAAM;AACxBV,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBZ,KAAtB;AACA,WACIA,KAAK,CAACG,IAAN,CAAW0B,MAAX,GAAoB,CAApB,IACAH,SAAS,CAAC1B,KAAK,CAACG,IAAP,CADT,IAEAH,KAAK,CAACI,WAAN,CAAkByB,MAAlB,KAA6B,EAF7B,IAGA7B,KAAK,CAACM,QAHN,IAIAN,KAAK,CAACM,QAAN,CAAeuB,MAAf,GAAwB,CAJxB,IAKA7B,KAAK,CAACO,eALN,IAMAP,KAAK,CAACM,QAAN,KAAmBN,KAAK,CAACO,eANzB,IAOAuB,aAAa,CAAC9B,KAAK,CAACM,QAAP,CARjB;AAUH,GAZD;;AAaA,QAAMwB,aAAa,GAAGC,GAAG,IAAI;AACzB,QAAIC,EAAE,GAAG,uDAAT;AACA,WAAO,IAAP;AACH,GAHD;;AAKA,SACI,0CACI;AAAK,IAAA,SAAS,EAAC,kEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI;AAAI,IAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAFJ,EAGI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACiB,GADjB,EAEI;AAAM,IAAA,OAAO,EAAExB,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,SAAS,EAAC,sBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CAFJ,CADJ,CAHJ,EAWI;AAAK,IAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK,CAACR,KAAK,CAACE,IAAP,GACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEI;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoCF,KAAK,CAACG,IAA1C,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAEI;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoCH,KAAK,CAACI,WAA1C,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CANJ,EAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoCJ,KAAK,CAACK,KAA1C,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CAXJ,EAgBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CAhBJ,CADH,GAwBO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEI;AACI,IAAA,IAAI,EAAC,MADT;AAEI,IAAA,SAAS,EAAC,oBAFd;AAGI,IAAA,WAAW,EAAEY,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,EAA+Cb,IAHhE;AAII,IAAA,QAAQ,EAAEM,aAJd;AAKI,IAAA,QAAQ,MALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,CADJ,EAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI;AACI,IAAA,IAAI,EAAC,aADT;AAEI,IAAA,SAAS,EAAC,oBAFd;AAGI,IAAA,IAAI,EAAC,QAHT;AAII,IAAA,WAAW,EAAEQ,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,EAA+CZ,WAJhE;AAKI,IAAA,QAAQ,EAAEK,aALd;AAMI,IAAA,QAAQ,MANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,CAZJ,EAwBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoCT,KAAK,CAACK,KAA1C,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CAxBJ,EA6BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI;AACI,IAAA,IAAI,EAAC,UADT;AAEI,IAAA,SAAS,EAAC,oBAFd;AAGI,IAAA,IAAI,EAAC,UAHT,CAII;AAJJ;AAKI,IAAA,WAAW,EAAC,UALhB;AAMI,IAAA,QAAQ,EAAEI,aANd;AAOI,IAAA,QAAQ,MAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,CA7BJ,EA0CI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AACI,IAAA,IAAI,EAAC,iBADT;AAEI,IAAA,SAAS,EAAC,oBAFd;AAGI,IAAA,WAAW,EAAC,kBAHhB;AAII,IAAA,IAAI,EAAC,UAJT;AAKI,IAAA,QAAQ,EAAEA,aALd;AAMI,IAAA,QAAQ,MANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,CA1CJ,EAsDI;AACI,IAAA,IAAI,EAAC,QADT;AAEI,IAAA,OAAO,EAAEW,YAFb;AAGI,IAAA,SAAS,EAAC,qBAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAtDJ,CAzBZ,CAXJ,CADJ,EAsGI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtGJ,CADJ;AA0GH","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { updateProfile } from \"../api/api\"\r\nimport MyBookings from \"./MyBookings\"\r\n\r\nexport default function Profile() {\r\n\r\n    const [state, updateState] = useState({\r\n        edit: false,\r\n        name: \"\",\r\n        phoneNumber:\"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\"\r\n    });\r\n\r\n    const onEdit = () => {\r\n        if (!state.edit) {\r\n            updateState({\r\n                ...state,\r\n                edit: true\r\n            });\r\n        } else {\r\n            updateState({\r\n                ...state,\r\n                edit: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const changeHandler = e => {\r\n        console.log(\"profile changeHandler:\", e.target)\r\n        const { name } = e.target;\r\n        updateState({\r\n            ...state,\r\n            [name]: e.target.value\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem(\"signupData\")) {\r\n            let name = JSON.parse(localStorage.getItem(\"signupData\")).name;\r\n            let phoneNumber = JSON.parse(localStorage.getItem(\"signupData\")).phoneNumber;\r\n            let password = JSON.parse(localStorage.getItem(\"signupData\")).password;\r\n            let email = JSON.parse(localStorage.getItem(\"signupData\")).email;\r\n\r\n            updateState({\r\n                name: name,\r\n                phoneNumber: phoneNumber,\r\n                password: password,\r\n                email: email,\r\n                confirmPassword: password\r\n            })\r\n        } else {\r\n            alert(\"User could not be created\");\r\n        }\r\n    }, [])\r\n\r\n\r\n    const handleSubmit = () => {\r\n        if (validityCheck()) {\r\n            const profileData = {\r\n                password: state.password,\r\n                name: state.name,\r\n                phoneNumber: state.phoneNumber,\r\n                username: JSON.parse(localStorage.getItem(\"signupData\")).username,\r\n                email: state.email,\r\n            };\r\n\r\n            try {\r\n                console.log(\"Profile Data\", JSON.stringify(profileData))\r\n\r\n                let username = JSON.parse(localStorage.getItem(\"signupData\")).username;\r\n\r\n                updateProfile(profileData, username)\r\n                // window.location.reload();\r\n            } catch (e) {\r\n                console.log(e.message);\r\n            }\r\n        } else {\r\n            alert(\"Enter valid Details\");\r\n        }\r\n    };\r\n\r\n    function allLetter(word)\r\n    { \r\n    //   var letters = /^[A-Za-z]+$/;\r\n      if (/^[a-zA-Z\\s]*$/.test(word))\r\n        return true;\r\n    alert(\"enter name correctly\")\r\n    return false;\r\n    }\r\n\r\n    const validityCheck = () => {\r\n        console.log(\"state:\", state)\r\n        return (\r\n            state.name.length > 2 &&\r\n            allLetter(state.name) &&\r\n            state.phoneNumber.length === 10 &&\r\n            state.password &&\r\n            state.password.length > 6 &&\r\n            state.confirmPassword &&\r\n            state.password === state.confirmPassword &&\r\n            checkPassword(state.password)\r\n        );\r\n    };\r\n    const checkPassword = str => {\r\n        var re = /^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\r\n        return true;\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container shadow-sm p-3 mb-5  bg-white mt-5 fullH rounded border\">\r\n                <h2>Profile</h2>\r\n                <h5 className=\"mb-5\">Basic info, for a faster booking experience</h5>\r\n                <div className=\"mb-4\">\r\n                    <h3 className=\"font-weight-bold\">\r\n                        Edit Profile{\" \"}\r\n                        <span onClick={onEdit}>\r\n                            <button className=\"btn btn-outline-dark\">&#9998;</button>\r\n                        </span>\r\n                    </h3>\r\n                </div>\r\n                <div className=\"\">\r\n                    {!state.edit ? (\r\n                        <div>\r\n                            <div>\r\n                                <h5 className=\"d-inline\">Name</h5>\r\n                                <h5 className=\"d-inline pl-5 ml-5\">{state.name}</h5>\r\n                                <hr />\r\n                            </div>\r\n                            <div>\r\n                                <h5 className=\"d-inline\">Phone Number </h5>\r\n                                <h5 className=\"d-inline pl-5 ml-5\">{state.phoneNumber}</h5>\r\n                                <hr />\r\n                            </div>\r\n                            <div>\r\n                                <h5 className=\"d-inline\">Email id</h5>\r\n                                <h5 className=\"d-inline pl-5 ml-5\">{state.email}</h5>\r\n                                <hr />\r\n                            </div>\r\n                            <div>\r\n                                <h5 className=\"d-inline\">Password</h5>\r\n                                <h5 className=\"d-inline pl-5 ml-5\">******</h5>\r\n                                <hr />\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                            <div>\r\n                                <div>\r\n                                    <h5 className=\"d-inline\">Name</h5>\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        className=\"d-inline pl-5 ml-5\"\r\n                                        placeholder={JSON.parse(localStorage.getItem(\"signupData\")).name}\r\n                                        onChange={changeHandler}\r\n                                        required\r\n                                    />\r\n                                    <hr />\r\n                                </div>\r\n                                <div>\r\n                                    <h5 className=\"d-inline\">Phone Number</h5>\r\n                                    <input\r\n                                        name=\"phoneNumber\"\r\n                                        className=\"d-inline pl-5 ml-5\"\r\n                                        type=\"number\"\r\n                                        placeholder={JSON.parse(localStorage.getItem(\"signupData\")).phoneNumber}\r\n                                        onChange={changeHandler}\r\n                                        required\r\n                                    />\r\n                                    <hr />\r\n                                </div>\r\n                                <div>\r\n                                    <h5 className=\"d-inline\">Email id</h5>\r\n                                    <h5 className=\"d-inline pl-5 ml-5\">{state.email}</h5>\r\n                                    <hr />\r\n                                </div>\r\n                                <div>\r\n                                    <h5 className=\"d-inline\">Password</h5>\r\n                                    <input\r\n                                        name=\"password\"\r\n                                        className=\"d-inline pl-5 ml-5\"\r\n                                        type=\"password\"\r\n                                        // value={state.password}\r\n                                        placeholder=\"Password\"\r\n                                        onChange={changeHandler}\r\n                                        required\r\n                                    />\r\n                                    <hr />\r\n                                </div>\r\n                                <div>\r\n                                    <h5 className=\"d-inline\">Confirm Password</h5>\r\n                                    <input\r\n                                        name=\"confirmPassword\"\r\n                                        className=\"d-inline pl-5 ml-5\"\r\n                                        placeholder=\"Confirm Password\"\r\n                                        type=\"password\"\r\n                                        onChange={changeHandler}\r\n                                        required\r\n                                    />\r\n                                    <hr />\r\n                                </div>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handleSubmit}\r\n                                    className=\"btn p-2 btn-primary\"\r\n                                >\r\n                                    Update\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                </div>\r\n            </div>\r\n            <MyBookings />\r\n        </>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}