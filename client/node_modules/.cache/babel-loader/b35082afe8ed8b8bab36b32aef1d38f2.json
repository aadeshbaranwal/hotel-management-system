{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\project\\\\oxotel-au3\\\\oxotel\\\\src\\\\data\\\\UsersData.js\";\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650\n  }\n}); // let rows = [];\n\nexport default function BasicTable() {\n  const [rows, updateState] = useState([]);\n  const classes = useStyles(); // let rows=[];\n\n  useEffect(() => {\n    fetch(\"http://localhost:5000/generate-report/users\").then(data => data.json()).then(response => {\n      updateState(response);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  const handelSubmit = data => {\n    console.log(\"delete user submit button\", data.target.value);\n    const reqData = {\n      username: data.target.value\n    };\n    fetch(`http://localhost:5000/generate-report/delete-user`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(reqData)\n    }).then(reqData => reqData.json()).then(response => {\n      console.log(\"delete user success \", response);\n\n      if (response) {\n        window.location.reload();\n      }\n    }).catch(err => console.log(\"delete user error:\", err));\n  };\n\n  return React.createElement(TableContainer, {\n    component: Paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"simple table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Name\"), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Username\"), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Email\"), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Phone Number\"))), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, rows.map(row => state.edit && row.username === state.username ? React.createElement(TableRow, {\n    key: row.username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"name\",\n    className: \"d-inline pl-5\",\n    value: row.name,\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  })), React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"username\",\n    className: \"d-inline pl-5 \" // value={row.roomtype}\n    ,\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"email\",\n    className: \"d-inline pl-5 \" // value={row.roomfloor}\n    ,\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  })), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"phoneNumber\",\n    className: \"d-inline pl-5 \" // value={row.roomfloor}\n    ,\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  })), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    onClick: handelUpdate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-outline-dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Confirm\")))) : row.username !== \"admin\" && React.createElement(TableRow, {\n    key: row.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, row.name), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, row.username), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, row.email), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, row.phoneNumber), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    value: row.username,\n    onClick: handelSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"Delete\")))))));\n}","map":{"version":3,"sources":["C:/Users/pc/Desktop/project/oxotel-au3/oxotel/src/data/UsersData.js"],"names":["React","useState","useEffect","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useStyles","table","minWidth","BasicTable","rows","updateState","classes","fetch","then","data","json","response","catch","err","console","log","handelSubmit","target","value","reqData","username","method","headers","body","JSON","stringify","window","location","reload","map","row","state","edit","name","changeHandler","handelUpdate","email","phoneNumber"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\n// let rows = [];\r\n\r\nexport default function BasicTable() {\r\n    const [rows,updateState]=useState([])\r\n    const classes = useStyles();\r\n\r\n    // let rows=[];\r\n    useEffect(() => {\r\n      fetch(\"http://localhost:5000/generate-report/users\")\r\n        .then((data) => data.json())\r\n        .then(response => {\r\n            updateState(response);\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n    }, [])\r\n        \r\n    \r\n    const handelSubmit = data => {\r\n        console.log(\"delete user submit button\", data.target.value)\r\n        const reqData={\r\n          username: data.target.value\r\n        }\r\n        fetch(`http://localhost:5000/generate-report/delete-user`, {\r\n        method: 'DELETE',\r\n        headers: {'Content-Type':'application/json'},\r\n        body: JSON.stringify(reqData)\r\n        })\r\n        .then(reqData => reqData.json())\r\n        .then(response => {\r\n            console.log(\"delete user success \", response)\r\n            if(response){\r\n              window.location.reload()\r\n            }\r\n\r\n        })\r\n        .catch(err => \r\n            console.log(\"delete user error:\",err)\r\n        )\r\n    }\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Name</TableCell>\r\n            <TableCell align=\"right\">Username</TableCell>\r\n            <TableCell align=\"right\">Email</TableCell>\r\n            <TableCell align=\"right\">Phone Number</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        \r\n        <TableBody>\r\n             { rows.map((row) => (\r\n              state.edit && row.username === state.username ? (\r\n                    <TableRow key={row.username}>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                                    <input\r\n                                        name=\"name\"\r\n                                        className=\"d-inline pl-5\"\r\n                                        value={row.name}\r\n                                        onChange={changeHandler}\r\n                                        required\r\n                                    />\r\n                        </TableCell>\r\n                        <TableCell component=\"th\" scope=\"row\" >\r\n                                    <input\r\n                                        name=\"username\"\r\n                                        className=\"d-inline pl-5 \"\r\n                                        // value={row.roomtype}\r\n                                        onChange={changeHandler}\r\n                                        required\r\n                                    />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                                    <input\r\n                                      name=\"email\"\r\n                                      className=\"d-inline pl-5 \"\r\n                                      // value={row.roomfloor}\r\n                                      onChange={changeHandler}\r\n                                      required\r\n                                    />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                                    <input\r\n                                      name=\"phoneNumber\"\r\n                                      className=\"d-inline pl-5 \"\r\n                                      // value={row.roomfloor}\r\n                                      onChange={changeHandler}\r\n                                      required\r\n                                    />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                            <span onClick={handelUpdate}>\r\n                                <button className=\"btn btn-outline-dark\">Confirm</button>\r\n                            </span>\r\n                        </TableCell>\r\n                    </TableRow>\r\n               ) :(\r\n                 row.username!==\"admin\" &&\r\n                    <TableRow key={row.name}>\r\n                        <TableCell component=\"th\" scope=\"row\">{row.name}</TableCell>\r\n                        <TableCell align=\"right\">{row.username}</TableCell>\r\n                        <TableCell align=\"right\">{row.email}</TableCell>\r\n                        <TableCell align=\"right\">{row.phoneNumber}</TableCell>\r\n                        <TableCell><button value={row.username} onClick={handelSubmit}>Delete</button></TableCell>\r\n                    </TableRow>\r\n               )\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}