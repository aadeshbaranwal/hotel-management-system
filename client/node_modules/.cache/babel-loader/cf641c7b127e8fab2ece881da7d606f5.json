{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\project\\\\oxotel-au3\\\\oxotel\\\\src\\\\data\\\\BookingDetails.js\";\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650\n  }\n});\nexport default function BasicTable() {\n  const [state, updateState] = useState({\n    rows: [],\n    edit: false,\n    username: null,\n    allotedRoomNumber: null,\n    checkIn: null,\n    checkOut: null,\n    persons: null,\n    children: null,\n    payment: null,\n    bedroom: null\n  });\n  const classes = useStyles(); // let rows=[];\n\n  useEffect(() => {\n    console.log(\"inside useEffect of bok\");\n    fetch(\"http://localhost:5000/generate-report/bookingDetails\").then(data => data.json()).then(response => {\n      console.log(response);\n      updateState({ ...state,\n        rows: response\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  const handelDelete = data => {\n    console.log(\"delete room submit button\", data.target.value);\n    const reqData = {\n      username: data.target.value\n    };\n    fetch(`http://localhost:5000/generate-report/delete-bookingDetails`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(reqData)\n    }).then(reqData => reqData.json()).then(response => {\n      console.log(\"delete room success \", response);\n\n      if (response) {\n        window.location.reload();\n      } else {\n        alert(\"Error while deleting room\");\n      }\n    }).catch(err => console.log(\"delete room error:\", err));\n  };\n\n  const handelUpdate = () => {\n    console.log(\"update room submit button\");\n    const data = {\n      username: state.username,\n      allotedRoomNumber: state.allotedRoomNumber,\n      checkIn: state.checkIn,\n      checkOut: state.checkOut,\n      persons: state.persons,\n      children: state.children,\n      payment: state.payment,\n      bedroom: state.bedroom\n    };\n\n    if (!data.allotedRoomNumber.isInteger() || !data.persons.isInteger() || !data.checkIn.isInteger() || !(data.children === \"True\" || data.children === \"False\")) {\n      alert(\"enter valid details\");\n      return;\n    }\n\n    console.log(\"inside handel update:\", data);\n    fetch(`http://localhost:5000/generate-report/update-bookingDetails`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(reqData => reqData.json()).then(response => {\n      console.log(\"update room success \", response);\n\n      if (response) {\n        alert(\"update successful!\");\n        window.location.reload();\n      }\n    }).catch(err => console.log(\"update room error:\", err));\n  };\n\n  const changeHandler = e => {\n    console.log(e.target);\n    const {\n      name\n    } = e.target;\n    updateState({ ...state,\n      [name]: e.target.value\n    });\n  };\n\n  const onEdit = data => {\n    console.log(\"inside onEdit\", data.target.value);\n\n    if (!state.edit) {\n      var result = state.rows.filter(rows => {\n        return rows.username === data.target.value;\n      });\n      console.log(\"data: \", result);\n      updateState({ ...state,\n        edit: true,\n        username: data.target.value,\n        checkIn: result.checkIn,\n        checkOut: result.checkOut,\n        children: result.children,\n        payment: result.payment,\n        bedroom: result.bedroom\n      });\n      console.log(state.edit);\n    } else {\n      updateState({ ...state,\n        edit: false,\n        username: null\n      });\n    }\n  };\n\n  return React.createElement(TableContainer, {\n    component: Paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"simple table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, \"Username\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"Alloted Room\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, \"Check In\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, \"Check Out\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"Persons\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, \"Children\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, \"Payment\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, \"Beds\"))), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, state.rows.map(row => state.edit && row.username === state.username ? React.createElement(TableRow, {\n    key: row.username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"username\",\n    className: \"d-inline pl-5\",\n    value: row.username,\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  })), React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"allotedRoomNumber\",\n    className: \"d-inline pl-5 \",\n    placeholder: row.allotedRoomNumber,\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  })), React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"checkIn\",\n    className: \"d-inline pl-5\",\n    value: row.checkIn,\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  })), React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"checkOut\",\n    className: \"d-inline pl-5\",\n    value: row.checkOut,\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  })), React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"persons\",\n    className: \"d-inline pl-5\",\n    type: \"number\",\n    placeholder: row.persons,\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  })), React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"children\",\n    className: \"d-inline pl-5\",\n    type: \"number\",\n    placeholder: row.children,\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  })), React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"payment\",\n    type: \"number\",\n    className: \"d-inline pl-5\",\n    placeholder: row.payment,\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  })), React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"bedroom\",\n    type: \"number\",\n    className: \"d-inline pl-5\",\n    placeholder: row.bedroom,\n    onChange: changeHandler,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  })), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    onClick: handelUpdate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-outline-dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252\n    },\n    __self: this\n  }, \"Confirm\")))) : React.createElement(TableRow, {\n    key: row.username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258\n    },\n    __self: this\n  }, row.username), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259\n    },\n    __self: this\n  }, row.allotedRoomNumber), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260\n    },\n    __self: this\n  }, row.checkIn), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261\n    },\n    __self: this\n  }, row.checkOut), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262\n    },\n    __self: this\n  }, row.persons), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263\n    },\n    __self: this\n  }, row.children), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264\n    },\n    __self: this\n  }, row.payment), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265\n    },\n    __self: this\n  }, row.bedroom), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    value: row.username,\n    className: \"btn btn-outline-dark\",\n    onClick: handelDelete,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267\n    },\n    __self: this\n  }, \"\\uD83D\\uDDD1\")), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    onClick: onEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    value: row.username,\n    className: \"btn btn-outline-dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }, \"\\u270E\"))))))));\n}","map":{"version":3,"sources":["C:/Users/pc/Desktop/project/oxotel-au3/oxotel/src/data/BookingDetails.js"],"names":["React","useState","useEffect","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useStyles","table","minWidth","BasicTable","state","updateState","rows","edit","username","allotedRoomNumber","checkIn","checkOut","persons","children","payment","bedroom","classes","console","log","fetch","then","data","json","response","catch","err","handelDelete","target","value","reqData","method","headers","body","JSON","stringify","window","location","reload","alert","handelUpdate","isInteger","changeHandler","e","name","onEdit","result","filter","map","row"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\nexport default function BasicTable() {\r\n    const [state,updateState] = useState({\r\n      rows: [],\r\n      edit: false,\r\n      username: null,\r\n      allotedRoomNumber: null,\r\n      checkIn: null,\r\n      checkOut: null,\r\n      persons: null,\r\n      children: null,\r\n      payment: null,\r\n      bedroom: null\r\n    })\r\n    const classes = useStyles();\r\n\r\n    // let rows=[];\r\n\r\n    useEffect(() => {\r\n        console.log(\"inside useEffect of bok\")\r\n      fetch(\"http://localhost:5000/generate-report/bookingDetails\")\r\n      .then((data) => data.json())\r\n      .then(response => {\r\n          console.log(response)\r\n          updateState({\r\n            ...state,\r\n            rows:response\r\n          });\r\n      })\r\n      .catch(err => {\r\n          console.log(err)\r\n      })\r\n    }, [])\r\n        \r\n    const handelDelete = data => {\r\n      console.log(\"delete room submit button\", data.target.value)\r\n      const reqData={\r\n        username: data.target.value\r\n      }\r\n        fetch(`http://localhost:5000/generate-report/delete-bookingDetails`, {\r\n        method: 'DELETE',\r\n        headers: {'Content-Type':'application/json'},\r\n        body: JSON.stringify(reqData)\r\n        })\r\n        .then(reqData => reqData.json())\r\n        .then(response => {\r\n            console.log(\"delete room success \", response)\r\n            if(response){\r\n              window.location.reload()\r\n            }\r\n            else{\r\n              alert(\"Error while deleting room\");\r\n            }\r\n        })\r\n        .catch(err => \r\n            console.log(\"delete room error:\",err)\r\n        )\r\n    }\r\n\r\n    const handelUpdate = () => {\r\n      console.log(\"update room submit button\")\r\n\r\n      const data = {\r\n        username: state.username,\r\n        allotedRoomNumber: state.allotedRoomNumber,\r\n        checkIn: state.checkIn,\r\n        checkOut: state.checkOut,\r\n        persons: state.persons,\r\n        children: state.children,\r\n        payment: state.payment,\r\n        bedroom: state.bedroom\r\n      }\r\n\r\n      if(!data.allotedRoomNumber.isInteger() || !data.persons.isInteger() || !data.checkIn.isInteger() || !(data.children === \"True\" || data.children === \"False\")){\r\n        alert(\"enter valid details\")\r\n        return;\r\n      }\r\n\r\n      console.log(\"inside handel update:\", data)\r\n        fetch(`http://localhost:5000/generate-report/update-bookingDetails`, {\r\n        method: 'PUT',\r\n        headers: {'Content-Type':'application/json'},\r\n        body: JSON.stringify(data)\r\n        })\r\n        .then(reqData => reqData.json())\r\n        .then(response => {\r\n            console.log(\"update room success \", response)\r\n            if(response){\r\n              alert(\"update successful!\")\r\n              window.location.reload()\r\n            }\r\n\r\n        })\r\n        .catch(err => \r\n            console.log(\"update room error:\",err)\r\n        )\r\n    }\r\n\r\n    const changeHandler = e => {\r\n      console.log(e.target)\r\n      const { name } = e.target;\r\n      updateState({\r\n          ...state,\r\n          [name]: e.target.value\r\n      });\r\n    };\r\n\r\n    const onEdit = (data) => {\r\n      console.log(\"inside onEdit\", data.target.value)\r\n      if (!state.edit) {\r\n        var result = state.rows.filter(rows => {\r\n          return rows.username === data.target.value\r\n        })\r\n\r\n        console.log(\"data: \",result)\r\n\r\n          updateState({\r\n              ...state,\r\n              edit: true,\r\n              username: data.target.value,\r\n              checkIn: result.checkIn,\r\n              checkOut: result.checkOut,\r\n              children: result.children,\r\n              payment: result.payment,\r\n              bedroom: result.bedroom\r\n          });\r\n\r\n          console.log(state.edit)\r\n      } else {\r\n          updateState({\r\n              ...state,\r\n              edit: false,\r\n              username: null,\r\n          });\r\n      }\r\n    };\r\n    \r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Username</TableCell>\r\n            {/* <TableCell >Room Type</TableCell> */}\r\n            <TableCell >Alloted Room</TableCell>\r\n            <TableCell >Check In</TableCell>\r\n            <TableCell >Check Out</TableCell>\r\n            <TableCell >Persons</TableCell>\r\n            <TableCell >Children</TableCell>\r\n            <TableCell >Payment</TableCell>\r\n            <TableCell>Beds</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        \r\n        <TableBody>\r\n             { state.rows.map((row) => (\r\n               state.edit && row.username === state.username ? (\r\n                    <TableRow key={row.username}>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                                    <input\r\n                                        name=\"username\"\r\n                                        className=\"d-inline pl-5\"\r\n                                        value={row.username}\r\n                                        onChange={changeHandler}\r\n                                        required\r\n                                    />\r\n                        </TableCell>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                                    <input\r\n                                      name=\"allotedRoomNumber\"\r\n                                      className=\"d-inline pl-5 \"\r\n                                      placeholder={row.allotedRoomNumber}\r\n                                      onChange={changeHandler}\r\n                                      required\r\n                                    />\r\n                        </TableCell>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                                    <input\r\n                                        name=\"checkIn\"\r\n                                        className=\"d-inline pl-5\"\r\n                                        value={row.checkIn}\r\n                                        onChange={changeHandler}\r\n                                        required\r\n                                    />\r\n                        </TableCell>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                                    <input\r\n                                        name=\"checkOut\"\r\n                                        className=\"d-inline pl-5\"\r\n                                        value={row.checkOut}\r\n                                        onChange={changeHandler}\r\n                                        required\r\n                                    />\r\n                        </TableCell>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                                    <input\r\n                                        name=\"persons\"\r\n                                        className=\"d-inline pl-5\"\r\n                                        type=\"number\"\r\n                                        placeholder={row.persons}\r\n                                        onChange={changeHandler}\r\n                                        required\r\n                                    />\r\n                        </TableCell>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                                    <input\r\n                                        name=\"children\"\r\n                                        className=\"d-inline pl-5\"\r\n                                        type=\"number\"\r\n                                        placeholder={row.children}\r\n                                        onChange={changeHandler}\r\n                                        required\r\n                                    />\r\n                        </TableCell>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                                    <input\r\n                                        name=\"payment\"\r\n                                        type=\"number\"\r\n                                        className=\"d-inline pl-5\"\r\n                                        placeholder={row.payment}\r\n                                        onChange={changeHandler}\r\n                                        required\r\n                                    />\r\n                        </TableCell>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                                    <input\r\n                                        name=\"bedroom\"\r\n                                        type=\"number\"\r\n                                        className=\"d-inline pl-5\"\r\n                                        placeholder={row.bedroom}\r\n                                        onChange={changeHandler}\r\n                                        required\r\n                                    />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                            <span onClick={handelUpdate}>\r\n                                <button className=\"btn btn-outline-dark\">Confirm</button>\r\n                            </span>\r\n                        </TableCell>\r\n                    </TableRow>\r\n               ) : (\r\n                    <TableRow key={row.username}>\r\n                        <TableCell component=\"th\" scope=\"row\">{row.username}</TableCell>\r\n                        <TableCell>{row.allotedRoomNumber}</TableCell>\r\n                        <TableCell>{row.checkIn}</TableCell>\r\n                        <TableCell>{row.checkOut}</TableCell>\r\n                        <TableCell>{row.persons}</TableCell>\r\n                        <TableCell>{row.children}</TableCell>\r\n                        <TableCell>{row.payment}</TableCell>\r\n                        <TableCell>{row.bedroom}</TableCell>\r\n                        <TableCell>\r\n                            <button value={row.username} className=\"btn btn-outline-dark\" onClick={handelDelete}>&#128465;</button>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                            <span onClick={onEdit}>\r\n                                <button value={row.username} className=\"btn btn-outline-dark\">&#9998;</button>\r\n                            </span>\r\n                        </TableCell>\r\n                    </TableRow>\r\n               )\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}